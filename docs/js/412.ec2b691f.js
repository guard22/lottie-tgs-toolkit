"use strict";(self["webpackChunklottie_editor"]=self["webpackChunklottie_editor"]||[]).push([[412],{8412:function(t,e,i){i.r(e),i.d(e,{default:function(){return C}});var a=i(641),r=i(33);const n={id:"editorMain"},o={class:"splitSlot"},s={id:"editorHeader",class:"subHeader"},l={class:"splitSlot"},p={key:0,id:"errorMsg"};function m(t,e,i,m,h,d){const c=(0,a.g2)("router-link"),u=(0,a.g2)("router-view"),g=(0,a.g2)("PreviewArea"),v=(0,a.g2)("split-panel");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(v,{layout:"horizontal",init:65,min:20,max:80,id:"mainSplit"},{1:(0,a.k6)(()=>[(0,a.Lk)("div",o,[(0,a.Lk)("div",s,[(0,a.bF)(c,{to:"/editor"},{default:(0,a.k6)(()=>[...e[0]||(e[0]=[(0,a.eW)(" Timeline Editor ",-1),(0,a.Lk)("span",{class:"material-icons"},"playlist_play",-1)])]),_:1}),(0,a.bF)(c,{to:"/editor/json"},{default:(0,a.k6)(()=>[...e[1]||(e[1]=[(0,a.eW)(" JSON Data ",-1),(0,a.Lk)("span",{class:"material-icons"},"code",-1)])]),_:1})]),(0,a.bF)(u,{class:"slotContent"})])]),2:(0,a.k6)(()=>[(0,a.Lk)("div",l,[e[2]||(e[2]=(0,a.Lk)("div",{id:"previewHeader",class:"subHeader"},[(0,a.Lk)("div",{style:{display:"inline-block"}},[(0,a.eW)(" Animation "),(0,a.Lk)("span",{class:"material-icons"},"movie")])],-1)),(0,a.bF)(g,{class:"slotContent"})])]),_:1}),t.errorMsg?((0,a.uX)(),(0,a.CE)("div",p,(0,r.v_)(t.errorMsg),1)):(0,a.Q3)("",!0)])}function h(t,e,i,n,o,s){return(0,a.uX)(),(0,a.CE)("div",{class:(0,r.C4)(["split-panel",{dragging:t.dragging,vert:"vertical"==t.layoutType,hori:"horizontal"==t.layoutType}]),onMousemove:e[1]||(e[1]=(...e)=>t.dragMove&&t.dragMove(...e)),onMouseup:e[2]||(e[2]=(...e)=>t.dragStop&&t.dragStop(...e))},[(0,a.Lk)("div",{class:"split-panel-part",style:(0,r.Tr)("horizontal"==t.layoutType?{width:t.panelSize1}:{height:t.panelSize1})},[(0,a.RG)(t.$slots,"1")],4),(0,a.Lk)("div",{class:"split-panel-gutter",onMousedown:e[0]||(e[0]=(...e)=>t.dragStart&&t.dragStart(...e)),style:(0,r.Tr)("horizontal"==t.layoutType?{width:t.gutterSizeString}:{height:t.gutterSizeString})},null,36),(0,a.Lk)("div",{class:"split-panel-part",style:(0,r.Tr)("horizontal"==t.layoutType?{width:t.panelSize2}:{height:t.panelSize2})},[(0,a.RG)(t.$slots,"2")],4)],34)}var d=(0,a.pM)({props:["layout","gutter","init","min","max"],data(){return{layoutType:this.layout||"horizontal",gutterSize:this.gutter||3,percent:this.init||50,minPercent:this.min||0,maxPercent:this.max||100,dragging:!1,startPos:0,startSplit:0}},computed:{gutterSizeString(){return`${this.gutterSize}px`},panelSize1(){return this.percent<this.minPercent&&(this.percent=this.minPercent),`calc(${this.percent}% - ${this.gutterSize}px)`},panelSize2(){return this.percent>this.maxPercent&&(this.percent=this.maxPercent),100-this.percent+"%"}},methods:{dragStart(t){t.preventDefault(),this.dragging=!0,this.startPos="horizontal"===this.layoutType?t.pageX:t.pageY,this.startSplit=this.percent,t.stopPropagation()},dragMove(t){if(this.dragging){t.preventDefault();const e=("horizontal"===this.layoutType?t.pageX:t.pageY)-this.startPos,i="horizontal"===this.layoutType?this.$el.offsetWidth:this.$el.offsetHeight;this.percent=this.startSplit+e/i*100,t.stopPropagation()}},dragStop(t){this.dragging&&(t.preventDefault(),this.dragging=!1,t.stopPropagation())}}}),c=i(6262);const u=(0,c.A)(d,[["render",h]]);var g=u;const v={id:"previewAreaMain"},k={id:"playbackButtons"},S={key:0},y={key:1};function f(t,e,i,r,n,o){const s=(0,a.g2)("LottieAnimation");return(0,a.uX)(),(0,a.CE)("div",v,[(0,a.bF)(s,{animData:this.animData,onNewAnim:e[0]||(e[0]=t=>this.anim=t)},null,8,["animData"]),(0,a.Lk)("p",k,[(0,a.Lk)("span",{onClick:e[1]||(e[1]=t=>{this.anim.goToAndStop(this.anim.firstFrame,!0)}),class:"material-icons black-button",title:"First frame (down arrow)"},"first_page"),(0,a.Lk)("span",{onClick:e[2]||(e[2]=(...e)=>t.goToPrevFrame&&t.goToPrevFrame(...e)),class:"material-icons black-button",title:"Previous frame (left arrow)"},"chevron_left"),(0,a.Lk)("span",{onClick:e[3]||(e[3]=t=>{this.anim.togglePause()}),class:"material-icons black-button",title:"Play/pause (spacebar)"},[this.anim&&this.anim.isPaused?((0,a.uX)(),(0,a.CE)("span",S,"play_arrow")):((0,a.uX)(),(0,a.CE)("span",y,"pause"))]),(0,a.Lk)("span",{onClick:e[4]||(e[4]=(...e)=>t.goToNextFrame&&t.goToNextFrame(...e)),class:"material-icons black-button",title:"Next frame (right arrow)"},"chevron_right"),(0,a.Lk)("span",{onClick:e[5]||(e[5]=t=>{this.anim.goToAndStop(this.anim.firstFrame+this.anim.totalFrames,!0)}),class:"material-icons black-button",title:"Last frame (up arrow)"},"last_page")]),e[8]||(e[8]=(0,a.Lk)("h4",null,"Export animation:",-1)),(0,a.Lk)("div",null,[(0,a.Lk)("button",{onClick:e[6]||(e[6]=t=>this.exportAnimation(".tgs")),class:"text-button"},"Save as TGS/Gzip"),(0,a.Lk)("button",{onClick:e[7]||(e[7]=t=>this.exportAnimation(".json")),class:"text-button"},"Save as Lottie/JSON")])])}var b=i(6278),w=i(9906),L=i(5319),F=i(3075),T=(0,a.pM)({components:{LottieAnimation:w.A},data(){return{anim:null}},computed:(0,b.aH)(["animData"]),methods:{goToPrevFrame(){if(null==this.anim)return;let t=Math.round(this.anim.currentFrame-.55);t<this.anim.firstFrame&&(t+=this.anim.totalFrames),this.anim.goToAndStop(t,!0)},goToNextFrame(){if(null==this.anim)return;let t=Math.round(this.anim.currentFrame+.55);t>=this.anim.firstFrame+this.anim.totalFrames&&(t-=this.anim.totalFrames),this.anim.goToAndStop(t,!0)},globalKeypress(t){if(t.target){const e=t.target.nodeName.toLowerCase();if("textarea"==e||"input"==e)return}"Space"===t.code?this.anim?.togglePause():"ArrowLeft"===t.code?this.goToPrevFrame():"ArrowRight"===t.code?this.goToNextFrame():"ArrowUp"===t.code?this.anim?.goToAndStop(this.anim.firstFrame+this.anim.totalFrames,!0):"ArrowDown"===t.code&&this.anim?.goToAndStop(this.anim.firstFrame,!0)},exportAnimation(t){let e=JSON.stringify(this.animData);".tgs"==t&&(e=(0,F.ZI)(e)),(0,L.v)(this.animData.nm,t,e)}},mounted(){window.addEventListener("keydown",this.globalKeypress)},beforeUnmount(){window.removeEventListener("keydown",this.globalKeypress)}});const P=(0,c.A)(T,[["render",f],["__scopeId","data-v-9d223de0"]]);var A=P,z=(0,a.pM)({components:{SplitPanel:g,PreviewArea:A},computed:{errorMsg(){return(0,b.Pj)().state.errorMsg}}});const x=(0,c.A)(z,[["render",m],["__scopeId","data-v-3d4934c3"]]);var C=x}}]);
//# sourceMappingURL=412.ec2b691f.js.map